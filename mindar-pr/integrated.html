<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>مدمج</title>

  <script src="libs/aframe.min.js"></script>
<script src="libs/mindar-image-aframe.prod.js"></script>
</head>

<body style="margin:0">
 <button id="playBtn"
  style="position:fixed;z-index:9999;top:60px;right:10px;padding:10px 12px;border-radius:10px;border:none;background:#111;color:#fff;">
  تشغيل الفيديو
</button>

<script>
  window.addEventListener("load", () => {
    const btn = document.getElementById("playBtn");
    btn.addEventListener("click", async () => {
      const v = document.getElementById("lessonVid");
      try {
        v.muted = true;          // مهم علشان Chrome يسمح بالتشغيل
        v.playsInline = true;
        await v.play();          // التشغيل بعد ضغطة = مضمون
        btn.innerText = "✅ يعمل";
      } catch (e) {
        btn.innerText = "❌ جرّب مرة أخرى";
        console.log(e);
      }
    });
  });
</script>
   <a-scene
    mindar-image="imageTargetSrc: assets/target.mind; autoStart: true;"
    vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: true">

    <a-assets>
      <img id="overlayImg" src="assets/overlay.png" />
  <img id="overlayImg" src="assets/overlay.png" />
  <video
    id="lessonVid"
    src="assets/lesson.mp4"
    preload="auto"
    loop
    muted
    playsinline
    webkit-playsinline
    crossorigin="anonymous"
  ></video>
    </a-assets>
     <video id="lessonVid"
  src="assets/lesson.mp4"
  preload="auto"
  loop
  muted
  playsinline
  webkit-playsinline>
</video>

    <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

    <a-entity mindar-image-target="targetIndex: 0">
      <a-image src="#overlayImg" position="0 0 0" width="1.35" height="0.80"></a-image>

      <a-text value="مدمج: الواقعي + الافتراضي معًا في شاشة واحدة"
              position="0 -0.6 0" align="center" width="2"
              color="#111" background-color="#fff"></a-text>
    </a-entity>
  </a-scene>
</body>
</html>



